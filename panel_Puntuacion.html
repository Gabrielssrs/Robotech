<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RoboArena - Panel de Juez</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/header.css">
    <style>
        /* Estilos específicos del panel */
        .panel-score .controls-grid button.penalty { font-weight: 800; color: #fff; border-width: 1px; border-style: solid; }
        .panel-score .controls-grid button.penalty.minor {
            background: linear-gradient(180deg, rgba(139,27,27,0.06), rgba(60,18,18,0.02));
            border-color: rgba(255,75,75,0.20);
            box-shadow: 0 4px 12px rgba(255,75,75,0.04);
        }
        .panel-score .controls-grid button.penalty.major {
            background: linear-gradient(180deg,#8b1b1b,#5a0f0f);
            border-color: #ff4b4b;
            box-shadow: 0 6px 18px rgba(255,75,75,0.12);
        }
        .panel-score .controls-grid button.penalty.minor small,
        .panel-score .controls-grid button.penalty.major small { color: rgba(255,255,255,0.9); font-weight:700; }
        .panel-score .controls-grid button.penalty.minor:hover,
        .panel-score .controls-grid button.penalty.major:hover { filter: brightness(1.08); transform: translateY(-2px); }

        /* Input de puntaje */
        .score-input {
            background: transparent;
            border: 2px solid #30363d;
            color: #fff;
            font-size: 4rem;
            font-weight: 700;
            text-align: center;
            width: 100%;
            max-width: 150px;
            border-radius: 12px;
            margin: 10px 0;
            padding: 10px;
        }
        .score-input:focus { outline: none; border-color: #58a6ff; }
        /* Quitar flechas del input number */
        .score-input::-webkit-outer-spin-button,
        .score-input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }

        /* Estado de Jueces */
        .judges-status-container {
            margin-top: 20px;
            padding: 15px;
            background: #161b22;
            border-radius: 8px;
            border: 1px solid #30363d;
            width: 100%;
        }
        .judges-grid {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 10px;
        }
        .judge-box {
            padding: 8px 15px;
            border-radius: 6px;
            background: #21262d;
            color: #8b949e;
            border: 1px solid #30363d;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .judge-box.ready {
            background: rgba(46, 164, 79, 0.15);
            color: #2ea44f;
            border-color: #2ea44f;
        }
        .judge-box i { font-size: 0.8rem; }
    </style>
    <!-- SweetAlert2 para alertas bonitas -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="panel-score">

    <header class="header">
        <div class="logo">ROBOTech</div>
        <nav class="nav">
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="torneo.html">Torneos</a></li>
                <li class="nav-profile-name"><a href="perfil-juez.html" class="active">Mi Perfil Juez</a></li> 
                <li><a href="login.html" class="btn-logout">Cerrar Sesión</a></li>
            </ul>
        </nav>
    </header>

    <main class="dashboard">
        <!-- Equipo Azul -->
        <section class="team blue">
            <div class="header-card">
                <h2>Cargando...</h2>
                <p>Competidor A</p>
                <span class="tag">AZUL</span>
            </div>
            <!-- Input editable -->
            <input type="number" id="score-blue" class="score-input" value="0" min="0" max="20">
            
            <div class="controls-grid">
                <button onclick="addPoints('blue', 1)">+1 <br><small>IMPACTO</small></button>
                <button onclick="addPoints('blue', 2)">+2 <br><small>AGRESIÓN</small></button>
                <button onclick="addPoints('blue', 3)">+3 <br><small>CONTROL</small></button>
                <button onclick="addPoints('blue', 5)">+5 <br><small>DAÑO CRÍTICO</small></button>
                <button class="penalty minor" onclick="addPoints('blue', -1)">-1 <br><small>FALTA LEVE</small></button>
                <button class="penalty major" onclick="addPoints('blue', -3)">-3 <br><small>FALTA GRAVE</small></button>
            </div>
        </section>

        <!-- Información Central -->
        <section class="match-info">
            <div class="event-title">
                <h3>Encuentro</h3>
                <p>Combate • Arena Principal</p>
            </div>
            
            <div class="timer-box">
                <div class="time" id="timer">10:00</div>
                <div class="status" id="match-status">EN CURSO</div>
            </div>
            
            <div style="display: flex; gap: 10px; justify-content: center; width: 100%;">
                <button class="btn-pause" id="btn-toggle-timer">Iniciar</button>
                <button class="btn-finish" id="btn-finalize">Finalizar Combate</button>
            </div>

            <!-- Estado de los Jueces -->
            <div class="judges-status-container">
                <h4 style="text-align: center; margin: 0; font-size: 0.9rem; color: #e6eef6;">Estado de Jueces</h4>
                <div class="judges-grid" id="judges-grid">
                    <!-- Se llena dinámicamente -->
                    <div class="judge-box">Cargando...</div>
                </div>
            </div>

            <div class="history">
                <h4>Historial de Eventos</h4>
                <ul id="event-log"></ul>
            </div>
        </section>

        <!-- Equipo Rojo -->
        <section class="team red">
            <div class="header-card">
                <h2>Cargando...</h2>
                <p>Competidor B</p>
                <span class="tag">ROJO</span>
            </div>
            <!-- Input editable -->
            <input type="number" id="score-red" class="score-input" value="0" min="0" max="20">

            <div class="controls-grid">
                <button onclick="addPoints('red', 1)">+1 <br><small>IMPACTO</small></button>
                <button onclick="addPoints('red', 2)">+2 <br><small>AGRESIÓN</small></button>
                <button onclick="addPoints('red', 3)">+3 <br><small>CONTROL</small></button>
                <button onclick="addPoints('red', 5)">+5 <br><small>DAÑO CRÍTICO</small></button>
                <button class="penalty minor" onclick="addPoints('red', -1)">-1 <br><small>FALTA LEVE</small></button>
                <button class="penalty major" onclick="addPoints('red', -3)">-3 <br><small>FALTA GRAVE</small></button>
            </div>
        </section>
    </main>

    <!-- Modal: Combate Finalizado -->
    <div id="combate-finalizado-modal" style="
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 1000;
    ">
        <div style="
            background: #161b22;
            border: 2px solid #58a6ff;
            border-radius: 12px;
            padding: 40px;
            text-align: center;
            max-width: 500px;
        ">
            <div style="font-size: 3rem; color: #2ea44f; margin-bottom: 20px;">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2 style="color: #e6eef6; margin-bottom: 10px;">¡Combate Finalizado!</h2>
            <p style="color: #8b949e; margin-bottom: 30px;">
                Los resultados han sido registrados exitosamente.
            </p>
            <div style="display: flex; gap: 10px; justify-content: center;">
                <button id="btn-volver-torneo" style="
                    background: linear-gradient(135deg, #58a6ff, #79c0ff);
                    color: #0d1117;
                    border: none;
                    padding: 12px 24px;
                    border-radius: 6px;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.3s;
                " onmouseover="this.style.opacity='0.8'" onmouseout="this.style.opacity='1'">
                    <i class="fas fa-arrow-left"></i> Volver a Torneos
                </button>
                <button id="btn-siguiente-encuentro" style="
                    background: rgba(88, 166, 255, 0.1);
                    color: #79c0ff;
                    border: 1px solid #58a6ff;
                    padding: 12px 24px;
                    border-radius: 6px;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.3s;
                " onmouseover="this.style.opacity='0.8'" onmouseout="this.style.opacity='1'">
                    Siguiente Encuentro
                </button>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-about">
                <h3>ROBOTech</h3>
                <p>Innovación, competencia y pasión por la robótica.  
                Únete a nuestra comunidad y lleva tus habilidades al siguiente nivel.</p>
            </div>
            <div class="footer-links">
                <h4>Enlaces útiles</h4>
                <ul>
                    <li><a href="#">Términos y condiciones</a></li>
                    <li><a href="#">Política de privacidad</a></li>
                    <li><a href="#">Preguntas frecuentes</a></li>
                    <li><a href="#">Contacto</a></li>
                </ul>
            </div>
            <div class="footer-social">
                <h4>Síguenos</h4>
                <div class="social-icons">
                    <a href="#"><img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/facebook.svg" alt="Facebook"></a>
                    <a href="#"><img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg" alt="Instagram"></a>
                    <a href="#"><img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/twitter.svg" alt="Twitter"></a>
                    <a href="#"><img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/youtube.svg" alt="YouTube"></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>© 2025 ROBOTech | Innovación y competencia robótica</p>
        </div>
    </footer>

    <script src="js/panel_Puntuacion.js"></script>
</body>
</html>
