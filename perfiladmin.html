<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard de Administraci√≥n - ROBOTech</title>
    <link rel="stylesheet" href="css/styles.css" /> 
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Estilos para la ventana modal */
        .modal {
            display: none; /* Oculta por defecto */
            position: fixed; 
            z-index: 1000; 
            left: 0;
            top: 0;
            width: 100%; 
            height: 100%; 
            overflow: auto; 
            background-color: rgba(0,0,0,0.6); /* Fondo oscuro semitransparente */
            padding-top: 60px;
        }

        .modal-content {
            background-color: #2c2c2c; /* Color de fondo oscuro para el contenido */
            margin: 5% auto; 
            padding: 25px;
            border: 1px solid #888;
            width: 80%; 
            max-width: 500px;
            border-radius: 10px;
            position: relative;
            color: white;
        }

        .close-btn {
            color: #aaa;
            position: absolute;
            top: 10px;
            right: 20px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        
        /* Ocultar secciones por defecto hasta cargar perfil */
        .restricted-section {
            display: none;
        }
    </style>
</head>
<body>
    
    <header class="header admin-header">
        <div class="logo">ROBOTech Admin</div>
        <nav class="nav">
            <ul>
                <li class="active">PERFIL ADMINISTRADOR</li> 
                <li><a href="#" id="btn-logout" class="btn-logout">Cerrar Sesi√≥n</a></li> 
            </ul>
        </nav>
    </header>

    <section class="section admin-dashboard-content">
        
        <div class="admin-grid-container">
            
            <!-- Tarjeta de Perfil -->
            <div class="admin-profile-card card">
                <h3 class="card-title-admin">Datos del Administrador</h3>
                
                <div class="profile-data-list">
                    <div class="data-row">
                        <span class="label">Nombre</span>
                        <span class="value profile-nombre">Cargando...</span>
                    </div>
                    <div class="data-row">
                        <span class="label">DNI</span>
                        <span class="value profile-dni">...</span>
                    </div>
                    <div class="data-row">
                        <span class="label">Email</span>
                        <span class="value profile-email">...</span>
                    </div>
                    <div class="data-row">
                        <span class="label">Tel√©fono</span>
                        <span class="value profile-telefono">...</span>
                    </div>
                    <div class="data-row">
                        <span class="label">Estado</span>
                        <span class="value profile-estado status-active">...</span>
                    </div>
                </div>
                
                <!-- Mensaje de Habilitaci√≥n (Oculto por defecto) -->
                <div id="unlock-message" style="display:none; background-color: #d4edda; color: #155724; padding: 10px; border-radius: 5px; margin-top: 15px; text-align: center; font-weight: bold; font-size: 0.9rem; border: 1px solid #c3e6cb;">
                    ‚úÖ Habilitado para editar datos sensibles
                </div>

                <button class="btn-main" id="btn-open-edit-profile" style="margin-top: 15px; width: 100%;">
                    <span class="icon">‚úèÔ∏è</span> Editar Mi Perfil
                </button>
            </div>
            
            <!-- Tarjeta de Acciones Generales -->
            <div class="admin-actions-card card">
                <h3 class="card-title-admin">Acciones de Gesti√≥n</h3>
                
                <div class="action-buttons-grid">
                    <a href="adminclubes.html" class="action-btn">
                        <span class="icon">üè¢</span>
                        <h4>Administrar Clubes</h4>
                        <p>Crear, editar y asignar responsables</p>
                    </a>
                    
                    <a href="adminjueces.html" class="action-btn">
                        <span class="icon">‚öñÔ∏è</span>
                        <h4>Administrar Jueces</h4>
                        <p>Altas, bajas y credenciales</p>
                    </a>
                    
                    <a href="admintorneo.html" class="action-btn">
                        <span class="icon">üèÜ</span>
                        <h4>Administrar Torneos</h4>
                        <p>Calendario y categor√≠as</p>
                    </a>
                    <a href="administrarCategorias.html" class="action-btn">
                        <span class="icon">üè∑Ô∏è</span>
                        <h4>Administrar Categorias</h4>
                        <p>Agregar nuevas categorias</p>
                    </a>
                    
                    <a href="solicitudes-retiro.html" class="action-btn" id="btn-ver-solicitudes">
                        <span class="icon">üì®</span>
                        <h4>Ver solicitudes de retiro</h4>
                        <p>Revisar y gestionar solicitudes</p>
                    </a>
                    
                    <a href="sedes.html" class="action-btn" id="btn-gestionar-sedes">
                        <span class="icon">üèüÔ∏è</span>
                        <h4>Gestionar Sedes</h4>
                        <p>Ver y gestionar sedes del torneo</p>
                    </a>
                </div>
            </div>
            
            <!-- Nueva Tarjeta: Configuraci√≥n del Sistema (SOLO ADMIN PRINCIPAL) -->
            <div class="card restricted-section" id="section-config-sistema">
                <h3 class="card-title-admin">Configuraci√≥n del Sistema</h3>
                <div class="action-buttons-grid" style="grid-template-columns: 1fr;">
                    <a href="ajustesSistema.html" class="action-btn">
                        <span class="icon">‚öôÔ∏è</span>
                        <h4>Ajustes Generales</h4>
                        <p>Correos, Credenciales y Datos Sensibles</p>
                    </a>
                </div>
            </div>

            <!-- Nueva Tarjeta: Gesti√≥n de Administradores (SOLO ADMIN PRINCIPAL) -->
            <div class="card restricted-section" id="section-gestion-admins">
                <h3 class="card-title-admin">Gesti√≥n de Administradores</h3>
                <div class="action-buttons-grid">
                    <a href="#" class="action-btn" id="btn-open-create-subadmin">
                        <span class="icon">‚ûï</span>
                        <h4>Crear Administrador</h4>
                        <p>Registrar nuevo usuario con privilegios</p>
                    </a>
                    <a href="#" class="action-btn" id="btn-open-list-subadmin">
                        <span class="icon">üë•</span>
                        <h4>Listar Administradores</h4>
                        <p>Ver y gestionar roles del equipo</p>
                    </a>
                </div>
            </div>
            
        </div>
        
    </section>

<footer class="footer">
  <div class="footer-container">
    <div class="footer-about">
      <h3>ROBOTech</h3>
      <p>Innovaci√≥n, competencia y pasi√≥n por la rob√≥tica.</p>
    </div>
  </div>
  <div class="footer-bottom">
    <p>¬© 2025 ROBOTech | Innovaci√≥n y competencia rob√≥tica</p>
  </div>
</footer>

    <!-- Modal Editar Perfil (Propio) -->
    <div id="edit-profile-modal" class="modal">
        <div class="modal-content form-container">
            <span class="close-btn" id="close-edit-profile">&times;</span>
            <h2>Editar Mi Perfil</h2>
            <form id="edit-profile-form">
                <!-- Campos Editables Siempre -->
                <div class="form-group">
                    <label for="edit-nombre">Nombre</label>
                    <input type="text" id="edit-nombre" name="nombre" required>
                </div>
                <div class="form-group">
                    <label for="edit-telefono">Tel√©fono</label>
                    <input type="tel" id="edit-telefono" name="telefono" required maxlength="9" placeholder="9 d√≠gitos">
                </div>
                
                <hr style="border-color: #444; margin: 20px 0;">
                <p style="font-size: 0.85em; color: #aaa; margin-bottom: 15px;">Datos Sensibles (Requiere autorizaci√≥n)</p>

                <!-- Campos Sensibles (Bloqueados por defecto) -->
                <div class="form-group">
                    <label for="edit-dni">DNI</label>
                    <input type="text" id="edit-dni" name="dni" required maxlength="8" pattern="\d{8}" placeholder="8 d√≠gitos">
                </div>
                <div class="form-group">
                    <label for="edit-email">Email</label>
                    <input type="email" id="edit-email" name="email" required>
                </div>
                
                <div class="form-group" style="position: relative;">
                    <label for="edit-password">Nueva Contrase√±a</label>
                    <input type="password" id="edit-password" name="contrasena" placeholder="M√≠nimo 6 caracteres" style="padding-right: 35px;">
                    <i class="fa-solid fa-eye toggle-password" data-target="edit-password" style="position: absolute; right: 10px; top: 38px; cursor: pointer; color: #aaa;"></i>
                </div>

                <div class="form-group" style="position: relative;">
                    <label for="confirm-password">Confirmar Contrase√±a</label>
                    <input type="password" id="confirm-password" name="confirmarContrasena" placeholder="Repite la contrase√±a" style="padding-right: 35px;">
                    <i class="fa-solid fa-eye toggle-password" data-target="confirm-password" style="position: absolute; right: 10px; top: 38px; cursor: pointer; color: #aaa;"></i>
                </div>

                <div class="form-actions" style="display: flex; flex-direction: column; gap: 10px;">
                    <!-- Bot√≥n solo visible para ID 1 -->
                    <button type="button" id="btn-solicitar-edicion" style="display: none; background: transparent; border: 1px solid #ffcc00; color: #ffcc00; padding: 10px; border-radius: 5px; cursor: pointer; font-weight: 600; transition: all 0.3s;">
                        <i class="fa-solid fa-lock"></i> Solicitar Desbloqueo de Edici√≥n
                    </button>
                    <button type="submit" class="btn-main" style="width: 100%;">Guardar Cambios</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Crear Sub-Administrador -->
    <div id="create-subadmin-modal" class="modal">
        <div class="modal-content form-container">
            <span class="close-btn" id="close-create-subadmin">&times;</span>
            <h2>Crear Sub-Administrador</h2>
            <form id="create-subadmin-form">
                <div class="form-group">
                    <label for="sub-nombre">Nombre</label>
                    <input type="text" id="sub-nombre" name="nombre" placeholder="ejm:Daniel (Campo Oblogatorio)" required>
                </div>
                <div class="form-group">
                    <label for="sub-dni">DNI</label>
                    <input type="text" id="sub-dni" name="dni" required maxlength="8" pattern="\d{8}" placeholder="8 digitos(campo obligatorio)">
                </div>
                <div class="form-group">
                    <label for="sub-telefono">Tel√©fono</label>
                    <input type="tel" id="sub-telefono" name="telefono" required pattern="9\d{8}" placeholder="Ej: 912345678(Campo obligatorio)">
                </div>
                <div class="form-group">
                    <label for="sub-correo">Correo</label>
                    <input type="email" id="sub-correo" name="correo" placeholder="ejmplo@correo.com (Campo Obligatorio)" required>
                </div>
                <div class="form-group">
                    <label for="sub-password">Contrase√±a</label>
                    <input type="password" id="sub-password" name="contrasena" required minlength="8" placeholder="Minimo 8 caracteres" >
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="cancel-create-subadmin">Cancelar</button>
                    <button type="submit" class="btn-main">Crear</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Listar Sub-Administradores -->
    <div id="list-subadmin-modal" class="modal">
        <div class="modal-content form-container" style="max-width: 900px;">
            <span class="close-btn" id="close-list-subadmin">&times;</span>
            <h2>Lista de Administradores</h2>
            <div class="table-responsive">
                <table class="table" style="width:100%; color: #fff; border-collapse: collapse;">
                    <thead>
                        <tr style="background-color: #1f1f25;">
                            <th style="padding: 10px;">ID</th>
                            <th style="padding: 10px;">Nombre</th>
                            <th style="padding: 10px;">Correo</th>
                            <th style="padding: 10px;">Estado</th>
                            <th style="padding: 10px;">Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="subadmin-list-body">
                        <!-- Contenido din√°mico -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <!-- Modal Editar OTRO Admin (Simplificado) -->
    <div id="edit-other-admin-modal" class="modal">
        <div class="modal-content form-container">
            <span class="close-btn" id="close-edit-other">&times;</span>
            <h2>Editar Administrador</h2>
            <form id="edit-other-admin-form">
                <input type="hidden" id="other-id">
                <div class="form-group">
                    <label for="other-nombre">Nombre</label>
                    <input type="text" id="other-nombre" required>
                </div>
                <div class="form-group">
                    <label for="other-telefono">Tel√©fono</label>
                    <input type="tel" id="other-telefono" required>
                </div>
                <div class="form-group">
                    <label for="other-dni">DNI</label>
                    <input type="text" id="other-dni" required maxlength="8">
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn-main">Actualizar</button>
                </div>
            </form>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-about">
                <h3>ROBOTech</h3>
                <p>Innovaci√≥n, competencia y pasi√≥n por la rob√≥tica. 
                √önete a nuestra comunidad y lleva tus habilidades al siguiente nivel.</p>
            </div>

            <div class="footer-links">
                <h4>Enlaces √∫tiles</h4>
                <ul>
                    <li><a href="#">T√©rminos y condiciones</a></li>
                    <li><a href="#">Pol√≠tica de privacidad</a></li>
                    <li><a href="#">Preguntas frecuentes</a></li>
                    <li><a href="#">Contacto</a></li>
                </ul>
            </div>

            <div class="footer-social">
                <h4>S√≠guenos</h4>
                <div class="social-icons">
                    <a href="#"><img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/facebook.svg" alt="Facebook"></a>
                    <a href="#"><img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg" alt="Instagram"></a>
                    <a href="#"><img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/twitter.svg" alt="Twitter"></a>
                    <a href="#"><img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/youtube.svg" alt="YouTube"></a>
                </div>
            </div>
        </div>

        <div class="footer-bottom">
            <p>¬© 2025 ROBOTech | Innovaci√≥n y competencia rob√≥tica</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="js/perfil-admin.js"></script>
</body>
</html>
